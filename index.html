<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warlock MUD Kalkulator Postaci</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
    <style>
        .custom-checkbox {
            display: none;
        }
        .custom-checkbox + label {
            cursor: pointer;
            transition: all 0.3s;
        }
        .custom-checkbox:checked + label {
            background-color: var(--accent-color);
            color: white;
        }
        .tooltip {
            visibility: hidden;
            position: absolute;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s;
            width: 280px;
        }
        .tooltip-trigger:hover .tooltip {
            visibility: visible;
            opacity: 1;
        }
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --card-bg: #ffffff;
            --border-color: #dee2e6;
            --accent-color: #4f46e5;
            --accent-hover: #4338ca;
            --skill-bar-bg: #e9ecef;
            --skill-bar-fill: #4f46e5;
        }
        .dark {
            --bg-color: #1a202c;
            --text-color: #f8f9fa;
            --card-bg: #2d3748;
            --border-color: #4a5568;
            --accent-color: #6366f1;
            --accent-hover: #5a67d8;
            --skill-bar-bg: #4a5568;
            --skill-bar-fill: #6366f1;
        }
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
        }
        .card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            transition: background-color 0.3s, border-color 0.3s;
        }
        .btn-primary {
            background-color: var(--accent-color);
        }
        .btn-primary:hover {
            background-color: var(--accent-hover);
        }
        .skill-bar {
            background-color: var(--skill-bar-bg);
        }
        .skill-bar-fill {
            background-color: var(--skill-bar-fill);
        }
        .toggle-checkbox:checked {
            right: 0;
            border-color: var(--accent-color);
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: var(--accent-color);
        }
        .selected-item {
            background-color: var(--accent-color);
            color: white;
        }
    </style>
</head>
<body class="min-h-screen p-4">
    <div class="container mx-auto">
        <header class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold">Warlock MUD Kalkulator Postaci</h1>
            
            <!-- Dark/Light Mode Toggle -->
            <div class="flex items-center">
                <span class="mr-2"><i class="fas fa-sun"></i></span>
                <div class="relative inline-block w-12 mr-2 align-middle select-none">
                    <input type="checkbox" id="themeToggle" class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer" />
                    <label for="themeToggle" class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-300 cursor-pointer"></label>
                </div>
                <span><i class="fas fa-moon"></i></span>
            </div>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Left Panel: Selections -->
            <div class="lg:col-span-1">
                <div class="card rounded-lg shadow p-4 mb-6">
                    <h2 class="text-xl font-semibold mb-4">Wybór Gildii i Ścieżki</h2>
                    
                    <div class="mb-4">
                        <label class="block mb-2">Gildia Zawodowa:</label>
                        <select id="guildSelect" class="w-full p-2 border rounded bg-transparent border-gray-400">
                            <option value="">Wybierz gildię...</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label class="block mb-2">Ścieżka:</label>
                        <select id="pathSelect" class="w-full p-2 border rounded bg-transparent border-gray-400">
                            <option value="">Najpierw wybierz gildię...</option>
                        </select>
                    </div>

                    <div id="racesAllowed" class="mb-4">
                        <h3 class="font-medium mb-1">Dozwolone rasy:</h3>
                        <p class="text-sm">Wybierz gildię, aby zobaczyć dozwolone rasy.</p>
                    </div>

                    <div id="activePlayers" class="text-sm">
                        <p>Aktywnych graczy: -</p>
                    </div>
                </div>

                <div class="card rounded-lg shadow p-4">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold">Słowa</h2>
                        <div>
                            <span class="text-sm mr-2">Wybrano: <span id="selectedWordCount">0</span></span>
                            <button id="clearSelections" class="text-sm px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600">Wyczyść</button>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <input type="text" id="searchWords" placeholder="Szukaj słów..." class="w-full p-2 border rounded bg-transparent border-gray-400">
                    </div>

                    <div id="wordsList" class="overflow-y-auto max-h-96 grid grid-cols-1 sm:grid-cols-2 gap-2">
                        <!-- Words will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Right Panel: Results -->
            <div class="lg:col-span-2">
                <div class="card rounded-lg shadow p-4 mb-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold">Podsumowanie Umiejętności</h2>
                        <button id="exportButton" class="px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">
                            <i class="fas fa-download mr-1"></i> Eksportuj do .md
                        </button>
                    </div>

                    <div id="skillsSummary" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Skills will be populated here -->
                        <p class="text-center col-span-1 md:col-span-2">Wybierz gildię i ścieżkę, aby zobaczyć umiejętności.</p>
                    </div>
                </div>

                <div class="card rounded-lg shadow p-4">
                    <h2 class="text-xl font-semibold mb-4">Efekty Wybranych Słów</h2>
                    <div id="effectsSummary" class="space-y-2">
                        <p>Wybierz słowa, aby zobaczyć ich efekty.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Guild Data Structure
        const guildsData = [
            {
                name: "Szermierze",
                code: "sz",
                type: "zawodowa",
                races: ["czlowiek", "elf", "niziolek", "kmaran", "gnom", "reptilion"],
                paths: [
                    {
                        name: "fechmistrz",
                        activePlayers: 4,
                        specs: ["pchniecie szermierzy", "rozbrojenie szermierzy"],
                        skills: {
                            "miecze": 85,
                            "sztylety": 91,
                            "walke dwiema bronmi": 70,
                            "parowanie": 70,
                            "uniki": 70,
                            "ocene przeciwnika": 70,
                            "ocene obiektu": 60,
                            "opieke nad zwierzetami": 50,
                            "spostrzegawczosc": 60,
                            "jezdziectwo": 50,
                            "znajomosc jezykow": 50,
                            "fechtunek": 100
                        }
                    },
                    {
                        name: "zaklinacz ostrzy",
                        activePlayers: 0,
                        specs: [],
                        skills: {
                            "miecze": 95,
                            "maczugi": 95,
                            "parowanie": 80,
                            "uniki": 75,
                            "ocene przeciwnika": 70,
                            "ocene obiektu": 60,
                            "opieke nad zwierzetami": 50,
                            "spostrzegawczosc": 60,
                            "jezdziectwo": 50,
                            "znajomosc jezykow": 50,
                            "koncentracje": 60,
                            "koncentracje w walce": 70,
                            "rozpraszanie": 80
                        }
                    }
                ]
            },
            {
                name: "Magowie Minas-Morgul",
                code: "mm",
                type: "zawodowa",
                races: ["czlowiek", "elf", "krasnolud", "goblin", "reptilion", "ork", "kmaran", "gnom", "niziolek"],
                paths: [
                    {
                        name: "mroczny wojownik",
                        activePlayers: 1,
                        specs: ["widmowe ciecie Morgulu"],
                        skills: {
                            "miecze": 90,
                            "mloty": 90,
                            "bronie drzewcowe": 90,
                            "parowanie": 85,
                            "uniki": 75,
                            "ocene przeciwnika": 50,
                            "ocene obiektu": 50,
                            "opieke nad zwierzetami": 50,
                            "wyczucie kierunku": 70,
                            "spostrzegawczosc": 65,
                            "jezdziectwo": 60,
                            "znajomosc jezykow": 65,
                            "niematerialne ciecie": 100
                        }
                    },
                    {
                        name: "mroczny kaplan",
                        activePlayers: 2,
                        specs: ["tchnienie Morgulu"],
                        skills: {
                            "sztylety": 70,
                            "bicze": 70,
                            "parowanie": 50,
                            "uniki": 50,
                            "ocene przeciwnika": 50,
                            "ocene obiektu": 50,
                            "opieke nad zwierzetami": 50,
                            "wyczucie kierunku": 70,
                            "spostrzegawczosc": 65,
                            "jezdziectwo": 60,
                            "znajomosc jezykow": 65,
                            "magie mroku": 85,
                            "koncentracje": 80,
                            "koncentracje w walce": 80,
                            "iluzje": 80
                        }
                    },
                    {
                        name: "rycerz morgulu",
                        activePlayers: 8,
                        specs: ["manewry Morgulu"],
                        skills: {
                            "sztylety": 80,
                            "mloty": 80,
                            "walke dwiema bronmi": 65,
                            "parowanie": 65,
                            "uniki": 65,
                            "tarczownictwo": 65,
                            "ocene przeciwnika": 50,
                            "ocene obiektu": 50,
                            "opieke nad zwierzetami": 50,
                            "wyczucie kierunku": 70,
                            "spostrzegawczosc": 65,
                            "jezdziectwo": 60,
                            "znajomosc jezykow": 65,
                            "manewry bojowe": 100
                        }
                    }
                ]
            },
            {
                name: "Ludzie Piaskow",
                code: "lp",
                type: "zawodowa",
                races: ["czlowiek", "elf", "krasnolud", "goblin", "reptilion", "ork", "kmaran", "gnom", "niziolek"],
                paths: [
                    {
                        name: "krytyki",
                        activePlayers: 0,
                        specs: [],
                        skills: {
                            "szable": 90,
                            "sztylety": 100,
                            "walke dwiema bronmi": 60,
                            "parowanie": 70,
                            "uniki": 70,
                            "wyczucie kierunku": 55,
                            "tropienie": 60,
                            "spostrzegawczosc": 80,
                            "skradanie sie": 50,
                            "ukrywanie sie": 50,
                            "wyczucie slabosci": 60,
                            "rzut piaskiem": 100,
                            "ciecie": 100
                        }
                    },
                    {
                        name: "default",
                        activePlayers: 2,
                        specs: ["sypniecie piaskiem", "dzgniecie"],
                        skills: {
                            "szable": 90,
                            "sztylety": 100,
                            "walke dwiema bronmi": 60,
                            "parowanie": 70,
                            "uniki": 70,
                            "wyczucie kierunku": 55,
                            "tropienie": 60,
                            "spostrzegawczosc": 80,
                            "skradanie sie": 50,
                            "ukrywanie sie": 50,
                            "rzut piaskiem": 100,
                            "ciecie": 100
                        }
                    }
                ]
            },
            {
                name: "Lesne Legendy",
                code: "ll",
                type: "zawodowa",
                races: ["goblin"],
                paths: [
                    {
                        name: "default",
                        activePlayers: 4,
                        specs: ["chlasniecie toporem"],
                        skills: {
                            "topory": 80,
                            "maczugi": 80,
                            "walke dwiema bronmi": 70,
                            "parowanie": 60,
                            "uniki": 70,
                            "ocene przeciwnika": 50,
                            "ocene obiektu": 50,
                            "szacowanie": 50,
                            "wyczucie kierunku": 61,
                            "tropienie": 60,
                            "spostrzegawczosc": 60,
                            "skradanie sie": 60,
                            "ukrywanie sie": 70,
                            "regeneracje": 100,
                            "odpornosc": 100,
                            "chlasniecie": 100
                        }
                    }
                ]
            },
            {
                name: "Lesne Duchy",
                code: "ld",
                type: "zawodowa",
                races: ["elf"],
                paths: [
                    {
                        name: "miecz",
                        activePlayers: 3,
                        specs: ["taniec broni"],
                        skills: {
                            "miecze": 90,
                            "sztylety": 90,
                            "walke dwiema bronmi": 60,
                            "parowanie": 60,
                            "uniki": 70,
                            "wyczucie kierunku": 70,
                            "tropienie": 70,
                            "spostrzegawczosc": 80,
                            "skradanie sie": 80,
                            "ukrywanie sie": 80,
                            "taniec broni": 100
                        }
                    },
                    {
                        name: "wlocznia",
                        activePlayers: 0,
                        specs: ["taniec broni"],
                        skills: {
                            "sztylety": 90,
                            "wlocznie": 90,
                            "parowanie": 90,
                            "uniki": 80,
                            "wyczucie kierunku": 70,
                            "tropienie": 70,
                            "spostrzegawczosc": 80,
                            "skradanie sie": 80,
                            "ukrywanie sie": 80,
                            "taniec broni": 100
                        }
                    }
                ]
            },
            {
                name: "Khazad-Dum",
                code: "kd",
                type: "zawodowa",
                races: ["krasnolud", "gnom"],
                paths: [
                    {
                        name: "default",
                        activePlayers: 2,
                        specs: ["krasnoludzka riposta"],
                        skills: {
                            "topory": 85,
                            "mloty": 85,
                            "walke w ciemnosci": 70,
                            "parowanie": 60,
                            "tarczownictwo": 80,
                            "walke w szyku": 55,
                            "ocene przeciwnika": 60,
                            "ocene obiektu": 60,
                            "plywanie": 75,
                            "wspinaczke": 80,
                            "wyczucie kierunku": 70,
                            "tropienie": 75,
                            "spostrzegawczosc": 70,
                            "znajomosc jezykow": 60,
                            "riposte": 100
                        }
                    }
                ]
            },
            {
                name: "Gwardia Katana",
                code: "gk",
                type: "zawodowa",
                races: ["ork", "czlowiek"],
                paths: [
                    {
                        name: "default",
                        activePlayers: 2,
                        specs: ["uderzenie tarcza", "ciecie szabla"],
                        skills: {
                            "szable": 95,
                            "bronie lancuchowe": 95,
                            "parowanie": 70,
                            "tarczownictwo": 75,
                            "walke w szyku": 70,
                            "ocene przeciwnika": 50,
                            "ocene obiektu": 50,
                            "szacowanie": 50,
                            "plywanie": 60,
                            "wspinaczke": 80,
                            "wyczucie kierunku": 50,
                            "tropienie": 60,
                            "spostrzegawczosc": 60,
                            "uderzenie tarcza": 100,
                            "gwardyjski cios": 100
                        }
                    }
                ]
            },
            {
                name: "Druidzki Krag",
                code: "dr",
                type: "zawodowa",
                races: ["czlowiek", "elf", "krasnolud", "goblin", "reptilion", "kmaran", "gnom", "niziolek"],
                paths: [
                    {
                        name: "zmiennoksztaltny",
                        activePlayers: 7,
                        specs: ["zwinny cios"],
                        skills: {
                            "walke bez broni": 80,
                            "uniki": 75,
                            "ocene przeciwnika": 55,
                            "opieke nad zwierzetami": 60,
                            "wyczucie kierunku": 60,
                            "tropienie": 50,
                            "spostrzegawczosc": 60,
                            "jezdziectwo": 50,
                            "skradanie sie": 40,
                            "ukrywanie sie": 40,
                            "zwinny cios": 100,
                            "koncentracje": 50,
                            "koncentracje w walce": 50,
                            "przemiane": 80,
                            "przywolywanie": 40
                        }
                    },
                    {
                        name: "przywolywacz",
                        activePlayers: 7,
                        specs: [],
                        skills: {
                            "bronie drzewcowe": 60,
                            "wlocznie": 60,
                            "parowanie": 70,
                            "ocene przeciwnika": 55,
                            "opieke nad zwierzetami": 60,
                            "wyczucie kierunku": 60,
                            "tropienie": 50,
                            "spostrzegawczosc": 60,
                            "jezdziectwo": 50,
                            "skradanie sie": 40,
                            "ukrywanie sie": 40,
                            "koncentracje": 70,
                            "koncentracje w walce": 50,
                            "iluzje": 70,
                            "przywolywanie": 80
                        }
                    }
                ]
            },
			{
                name: "Armia Saurona",
                code: "ar",
                type: "zawodowa",
                races: ["ork", "goblin", "reptilion"],
                paths: [
                    {
                        name: "default",
                        activePlayers: 7,
                        specs: ["crush"],
                        skills: {
                            "miecze": 85,
                            "topory": 85,
                            "maczugi": 85,
                            "mloty": 85,
                            "parowanie": 75,
                            "tarczownictwo": 75,
                            "walke w szyku": 65,
                            "ocene przeciwnika": 70,
                            "wspinaczke ": 70,
                            "wyczucie kierunku": 70,
                            "spostrzegawczosc": 75,
                            "walke tarcza": 100
                        }
                    },
                    
                ]
            },
            {
                name: "Bractwo Zywiolow",
                code: "bz_o",
                type: "zawodowa",
                races: ["czlowiek", "elf", "krasnolud", "reptilion", "kmaran", "gnom", "niziolek"],
                paths: [
                    {
                        name: "occ_magia ognia",
                        activePlayers: 2,
                        specs: [],
                        skills: {
                            "ocene obiektu": 40,
                            "szacowanie": 40,
                            "znajomosc jezykow": 55,
                            "magie ognia": 99,
                            "magie powietrza": 67,
                            "magie ziemi": 67,
                            "magie wody": 67,
                            "koncentracje": 90,
                            "koncentracje w walce": 70,
                            "magie runiczna": 40,
                            "czarodziejstwo": 40,
                            "przemiane": 40,
                            "zaklinanie": 35,
                            "rozpraszanie": 40
                        }
                    },
                    {
                        name: "occ_magia powietrza",
                        activePlayers: 1,
                        specs: [],
                        skills: {
                            "ocene obiektu": 40,
                            "szacowanie": 40,
                            "znajomosc jezykow": 55,
                            "magie ognia": 67,
                            "magie powietrza": 99,
                            "magie ziemi": 67,
                            "magie wody": 67,
                            "koncentracje": 90,
                            "koncentracje w walce": 70,
                            "magie runiczna": 40,
                            "czarodziejstwo": 40,
                            "przemiane": 40,
                            "zaklinanie": 35,
                            "rozpraszanie": 40
                        }
                    },
                    {
                        name: "occ_magia wody",
                        activePlayers: 1,
                        specs: [],
                        skills: {
                            "ocene obiektu": 40,
                            "szacowanie": 40,
                            "znajomosc jezykow": 55,
                            "magie ognia": 67,
                            "magie powietrza": 67,
                            "magie ziemi": 67,
                            "magie wody": 99,
                            "koncentracje": 90,
                            "koncentracje w walce": 70,
                            "magie runiczna": 40,
                            "czarodziejstwo": 40,
                            "przemiane": 40,
                            "zaklinanie": 35,
                            "rozpraszanie": 40
                        }
                    },
                    {
                        name: "occ_general",
                        activePlayers: 1,
                        specs: [],
                        skills: {
                            "ocene obiektu": 40,
                            "szacowanie": 40,
                            "znajomosc jezykow": 55,
                            "magie ognia": 75,
                            "magie powietrza": 75,
                            "magie ziemi": 75,
                            "magie wody": 75,
                            "koncentracje": 90,
                            "koncentracje w walce": 70,
                            "magie runiczna": 40,
                            "czarodziejstwo": 40,
                            "przemiane": 40,
                            "zaklinanie": 35,
                            "rozpraszanie": 40
                        }
                    },
                    {
                        name: "occ_magia ziemi",
                        activePlayers: 1,
                        specs: [],
                        skills: {
                            "ocene obiektu": 40,
                            "szacowanie": 40,
                            "znajomosc jezykow": 55,
                            "magie ognia": 67,
                            "magie powietrza": 67,
                            "magie ziemi": 99,
                            "magie wody": 67,
                            "koncentracje": 90,
                            "koncentracje w walce": 70,
                            "magie runiczna": 40,
                            "czarodziejstwo": 40,
                            "przemiane": 40,
                            "zaklinanie": 35,
                            "rozpraszanie": 40
                        }
                    }
                ]
            }
        ];

        // Slowa Data Structure
        const slowaData = [
            { name: "wybraniec losu", cost: 10, description: "podnosi zauwazalnie prawdopodobienstwo zdobycia lepszych run (3)", effects: [{ type: "increase", stat: "prawdopodobienstwo zdobycia lepszych run", value: 3, intensity: "zauwazalnie" }] },
            { name: "widzacy", cost: 10, description: "podnosi troche umiejetnosc w ocenianiu wlasnosci przedmiotow (20), troche umiejetnosc w szacowaniu wartosci przedmiotow (20) oraz sporo widzenie w ciemnosci (4) ponadto pozwala widziec magiczna energie (100)", effects: [
                { type: "increase", stat: "umiejetnosc w ocenianiu wlasnosci przedmiotow", value: 20, intensity: "troche" },
                { type: "increase", stat: "umiejetnosc w szacowaniu wartosci przedmiotow", value: 20, intensity: "troche" },
                { type: "increase", stat: "widzenie w ciemnosci", value: 4, intensity: "sporo" },
                { type: "special", description: "pozwala widziec magiczna energie", value: 100 }
            ]},
            { name: "leniuszek", cost: 20, description: "podnosi troche umiejetnosc w ocenianiu wlasnosci przedmiotow (20) ponadto juz nigdy nie bedziesz musial odwiedzac kowala (1)", effects: [
                { type: "increase", stat: "umiejetnosc w ocenianiu wlasnosci przedmiotow", value: 20, intensity: "troche" },
                { type: "special", description: "juz nigdy nie bedziesz musial odwiedzac kowala", value: 1 }
            ]},
            { name: "duzo wiecej", cost: 10, description: "podnosi zauwazalnie prawdopodobienstwo zdobycia dodatkowych run (150)", effects: [
                { type: "increase", stat: "prawdopodobienstwo zdobycia dodatkowych run", value: 150, intensity: "zauwazalnie" }
            ]},
            { name: "jajoglowy", cost: 10, description: "podnosi sporo ilosc zapamietanych czarow (6) oraz nieco wielkosc listy dozwolonych czarow (3)", effects: [
                { type: "increase", stat: "ilosc zapamietanych czarow", value: 6, intensity: "sporo" },
                { type: "increase", stat: "wielkosc listy dozwolonych czarow", value: 3, intensity: "nieco" }
            ]},
            { name: "spekulant", cost: 20, description: "podnosi troche umiejetnosc w zawieraniu korzystnych transakcji handlowych (20)", effects: [
                { type: "increase", stat: "umiejetnosc w zawieraniu korzystnych transakcji handlowych", value: 20, intensity: "troche" }
            ]},
            { name: "profesor", cost: 20, description: "podnosi nieznacznie ilosc doswiadczenia przekazywanego na inteligencje (1500) oraz nieznacznie ilosc doswiadczenia przekazywanego na madrosc (1500)", effects: [
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na inteligencje", value: 1500, intensity: "nieznacznie" },
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na madrosc", value: 1500, intensity: "nieznacznie" }
            ]},
            { name: "miesniak", cost: 20, description: "podnosi minimalnie ilosc doswiadczenia przekazywanego na sile (1000), minimalnie ilosc doswiadczenia przekazywanego na zrecznosc (1000) oraz minimalnie ilosc doswiadczenia przekazywanego na wytrzymalosc (1000)", effects: [
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na sile", value: 1000, intensity: "minimalnie" },
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na zrecznosc", value: 1000, intensity: "minimalnie" },
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na wytrzymalosc", value: 1000, intensity: "minimalnie" }
            ]},
            { name: "heros", cost: 20, description: "podnosi nieznacznie ilosc doswiadczenia przekazywanego na odwage (2000)", effects: [
                { type: "increase", stat: "ilosc doswiadczenia przekazywanego na odwage", value: 2000, intensity: "nieznacznie" }
            ]},
            { name: "kopacz", cost: 10, description: "podnosi troche umiejetnosc w wydobywaniu mineralow spod ziemi (20)", effects: [
                { type: "increase", stat: "umiejetnosc w wydobywaniu mineralow spod ziemi", value: 20, intensity: "troche" }
            ]},
            { name: "wytapiacz", cost: 10, description: "podnosi troche umiejetnosc w metalurgii (20)", effects: [
                { type: "increase", stat: "umiejetnosc w metalurgii", value: 20, intensity: "troche" }
            ]},
            { name: "kolekcjoner", cost: 20, description: "podnosi nieznacznie ilosc przedmiotow ktore mozesz trwale zabezpieczyc (1)", effects: [
                { type: "increase", stat: "ilosc przedmiotow ktore mozesz trwale zabezpieczyc", value: 1, intensity: "nieznacznie" }
            ]},
            { name: "szczesciarz", cost: 10, description: "podnosi nieco prawdopodobienstwo zdobycia lepszych run (2)", effects: [
                { type: "increase", stat: "prawdopodobienstwo zdobycia lepszych run", value: 2, intensity: "nieco" }
            ]},
            { name: "wiecej", cost: 10, description: "podnosi nieco prawdopodobienstwo zdobycia dodatkowych run (75)", effects: [
                { type: "increase", stat: "prawdopodobienstwo zdobycia dodatkowych run", value: 75, intensity: "nieco" }
            ]},
            { name: "witalny", cost: 20, description: "podnosi ogromnie regeneracje kondycji (100)", effects: [
                { type: "increase", stat: "regeneracje kondycji", value: 100, intensity: "ogromnie" }
            ]},
            { name: "uduchowiony", cost: 20, description: "podnosi minimalnie regeneracje many (5)", effects: [
                { type: "increase", stat: "regeneracje many", value: 5, intensity: "minimalnie" }
            ]},
            { name: "niezmordowany", cost: 20, description: "podnosi troche regeneracje zmeczenia (40)", effects: [
                { type: "increase", stat: "regeneracje zmeczenia", value: 40, intensity: "troche" }
            ]},
            { name: "farciarz", cost: 20, description: "podnosi zauwazalnie szczescie (50)", effects: [
                { type: "increase", stat: "szczescie", value: 50, intensity: "zauwazalnie" }
            ]},
            { name: "silny", cost: 30, description: "podnosi nieznacznie sile (20)", effects: [
                { type: "increase", stat: "sile", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "zreczny", cost: 30, description: "podnosi nieznacznie zrecznosc (20)", effects: [
                { type: "increase", stat: "zrecznosc", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "wytrzymaly", cost: 30, description: "podnosi nieznacznie wytrzymalosc (20)", effects: [
                { type: "increase", stat: "wytrzymalosc", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "inteligentny", cost: 30, description: "podnosi nieznacznie inteligencje (20)", effects: [
                { type: "increase", stat: "inteligencje", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "madry", cost: 30, description: "podnosi nieznacznie madrosc (20)", effects: [
                { type: "increase", stat: "madrosc", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "odwazny", cost: 30, description: "podnosi nieznacznie odwage (20)", effects: [
                { type: "increase", stat: "odwage", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "szampierz", cost: 30, description: "podnosi nieznacznie umiejetnosci walki wszystkimi bronmi (10)", effects: [
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "karateka", cost: 30, description: "podnosi nieznacznie umiejetnosc w walce bez broni (10)", effects: [
                { type: "increase", stat: "umiejetnosc w walce bez broni", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "patelnia", cost: 30, description: "podnosi nieznacznie umiejetnosc w skutecznym uzywaniu tarczy (10)", effects: [
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "lewak", cost: 30, description: "podnosi nieznacznie umiejetnosc w parowaniu ciosow przeciwnika (10)", effects: [
                { type: "increase", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "wicher", cost: 30, description: "podnosi nieznacznie umiejetnosc w unikaniu ciosow przeciwnika (10)", effects: [
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "tancerz", cost: 30, description: "podnosi nieznacznie umiejetnosc w walce dwiema bronmi jednoczesnie (10)", effects: [
                { type: "increase", stat: "umiejetnosc w walce dwiema bronmi jednoczesnie", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "koniuszy", cost: 30, description: "podnosi troche umiejetnosc w walce z konskiego grzbietu (20)", effects: [
                { type: "increase", stat: "umiejetnosc w walce z konskiego grzbietu", value: 20, intensity: "troche" }
            ]},
            { name: "przyboczny", cost: 30, description: "podnosi troche umiejetnosc w walce w szyku (20)", effects: [
                { type: "increase", stat: "umiejetnosc w walce w szyku", value: 20, intensity: "troche" }
            ]},
            { name: "przywodca", cost: 30, description: "podnosi troche umiejetnosc w wywieraniu wplywu na innych (20)", effects: [
                { type: "increase", stat: "umiejetnosc w wywieraniu wplywu na innych", value: 20, intensity: "troche" }
            ]},
            { name: "ogien", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia ognia (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia ognia", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "powietrze", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia powietrza (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia powietrza", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "ziemia", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia ziemi (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia ziemi", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "woda", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia wody (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia wody", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "zycie", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia zycia (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia zycia", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "smierc", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia mroku (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia mroku", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "przemiana", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia przemiany (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia przemiany", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "mistycyzm", cost: 30, description: "podnosi nieznacznie umiejetnosc w mistycyzmie (10)", effects: [
                { type: "increase", stat: "umiejetnosc w mistycyzmie", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "zaklinanie", cost: 30, description: "podnosi nieznacznie umiejetnosc w zaklinaniu (10)", effects: [
                { type: "increase", stat: "umiejetnosc w zaklinaniu", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "przywolywanie", cost: 30, description: "podnosi nieznacznie umiejetnosc w magii tworzenia i przywolywania (10)", effects: [
                { type: "increase", stat: "umiejetnosc w magii tworzenia i przywolywania", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "iluzja", cost: 30, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia iluzji (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia iluzji", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "rozpraszanie", cost: 30, description: "podnosi nieznacznie umiejetnosc w rozpraszaniu zaklec (10)", effects: [
                { type: "increase", stat: "umiejetnosc w rozpraszaniu zaklec", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "czarodziejstwo", cost: 30, description: "podnosi nieznacznie umiejetnosc w znajomosci i uzywaniu magii (10)", effects: [
                { type: "increase", stat: "umiejetnosc w znajomosci i uzywaniu magii", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "runy", cost: 30, description: "podnosi nieznacznie umiejetnosc w pisaniu i uzywaniu run (10)", effects: [
                { type: "increase", stat: "umiejetnosc w pisaniu i uzywaniu run", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "koncentracja", cost: 30, description: "podnosi nieznacznie umiejetnosc w koncentrowaniu swoich magicznych zdolnosci (10)", effects: [
                { type: "increase", stat: "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "waleczny spokoj", cost: 30, description: "podnosi troche umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki (20)", effects: [
                { type: "increase", stat: "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki", value: 20, intensity: "troche" }
            ]},
            { name: "wojownik", cost: 50, description: "pozwala trenowac umiejetnosci walki wszystkimi bronmi na poprawnie (60), pozwala trenowac umiejetnosc w skutecznym uzywaniu tarczy na znosnie (45), pozwala trenowac umiejetnosc w parowaniu ciosow przeciwnika na znosnie (45) oraz pozwala trenowac umiejetnosc w unikaniu ciosow przeciwnika na znosnie (45)", effects: [
                { type: "special", description: "pozwala trenowac umiejetnosci walki wszystkimi bronmi na poprawnie", value: 60 },
                { type: "special", description: "pozwala trenowac umiejetnosc w skutecznym uzywaniu tarczy na znosnie", value: 45 },
                { type: "special", description: "pozwala trenowac umiejetnosc w parowaniu ciosow przeciwnika na znosnie", value: 45 },
                { type: "special", description: "pozwala trenowac umiejetnosc w unikaniu ciosow przeciwnika na znosnie", value: 45 }
            ]},
            { name: "mag", cost: 50, description: "pozwala trenowac umiejetnosci ze wszystkich szkol magii na powierzchownie (40), pozwala trenowac umiejetnosc w koncentrowaniu swoich magicznych zdolnosci na poprawnie (60) oraz pozwala trenowac umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki na znosnie (50)", effects: [
                { type: "special", description: "pozwala trenowac umiejetnosci ze wszystkich szkol magii na powierzchownie", value: 40 },
                { type: "special", description: "pozwala trenowac umiejetnosc w koncentrowaniu swoich magicznych zdolnosci na poprawnie", value: 60 },
                { type: "special", description: "pozwala trenowac umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki na znosnie", value: 50 }
            ]},
            { name: "galop", cost: 40, description: "podnosi zauwazalnie umiejetnosc w jezdzie konnej (25), sporo umiejetnosc w walce z konskiego grzbietu (30) oraz nieznacznie umiejetnosci walki wszystkimi bronmi (10)", effects: [
                { type: "increase", stat: "umiejetnosc w jezdzie konnej", value: 25, intensity: "zauwazalnie" },
                { type: "increase", stat: "umiejetnosc w walce z konskiego grzbietu", value: 30, intensity: "sporo" },
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 10, intensity: "nieznacznie" }
            ]},
			{ name: "mikstura", cost: 40, description: "podnosi troche umiejetnosc w warzeniu i rozpoznawaniu mikstur (20), troche umiejetnosc w znajdowaniu i rozpoznawaniu ziol (20) oraz nieznacznie umiejetnosc w poslugiwaniu sie magia przemiany (10)", effects: [
                { type: "increase", stat: "umiejetnosc w warzeniu i rozpoznawaniu mikstur", value: 20, intensity: "troche" },
                { type: "increase", stat: "umiejetnosc w znajdowaniu i rozpoznawaniu ziol", value: 20, intensity: "troche" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia przemiany", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "berserker", cost: 40, description: "podnosi troche umiejetnosci walki wszystkimi bronmi (20) oraz troche umiejetnosc w walce bez broni (20) natomiast obniza nieznacznie umiejetnosc w unikaniu ciosow przeciwnika (-10), nieznacznie umiejetnosc w parowaniu ciosow przeciwnika (-10), nieznacznie umiejetnosc w skutecznym uzywaniu tarczy (-10) oraz minimalnie wytrzymalosc (-10)", effects: [
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 20, intensity: "troche" },
                { type: "increase", stat: "umiejetnosc w walce bez broni", value: 20, intensity: "troche" },
                { type: "decrease", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: -10, intensity: "nieznacznie" },
                { type: "decrease", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: -10, intensity: "nieznacznie" },
                { type: "decrease", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: -10, intensity: "nieznacznie" },
                { type: "decrease", stat: "wytrzymalosc", value: -10, intensity: "minimalnie" }
            ]},
            { name: "barbarzynca", cost: 40, description: "podnosi nieco umiejetnosci walki wszystkimi bronmi (15), nieco umiejetnosc w walce bez broni (15), minimalnie umiejetnosc w unikaniu ciosow przeciwnika (5), minimalnie umiejetnosc w parowaniu ciosow przeciwnika (5) oraz minimalnie umiejetnosc w skutecznym uzywaniu tarczy (5) ponadto blokuje uzywanie jakiekolwiek magii", effects: [
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w walce bez broni", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 5, intensity: "minimalnie" },
                { type: "special", description: "blokuje uzywanie jakiekolwiek magii" }
            ]},
            { name: "mag bojowy", cost: 40, description: "podnosi minimalnie umiejetnosci walki wszystkimi bronmi (5), nieco umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki (15), minimalnie umiejetnosc w unikaniu ciosow przeciwnika (5), minimalnie umiejetnosc w parowaniu ciosow przeciwnika (5) oraz minimalnie umiejetnosc w skutecznym uzywaniu tarczy (5) natomiast obniza nieco wplyw wagi zbroi na czarowanie (-25)", effects: [
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 5, intensity: "minimalnie" },
                { type: "decrease", stat: "wplyw wagi zbroi na czarowanie", value: -25, intensity: "nieco" }
            ]},
            { name: "tarczownik", cost: 40, description: "podnosi nieco umiejetnosc w unikaniu ciosow przeciwnika (15), nieco umiejetnosc w parowaniu ciosow przeciwnika (15), nieco umiejetnosc w skutecznym uzywaniu tarczy (15), nieco umiejetnosc w walce w szyku (15) oraz nieco maksymalna kondycje (1000) natomiast obniza minimalnie umiejetnosci walki wszystkimi bronmi (-5) oraz minimalnie umiejetnosc w walce bez broni (-5)", effects: [
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 15, intensity: "nieco" },
                { type: "increase", stat: "umiejetnosc w walce w szyku", value: 15, intensity: "nieco" },
                { type: "increase", stat: "maksymalna kondycje", value: 1000, intensity: "nieco" },
                { type: "decrease", stat: "umiejetnosci walki wszystkimi bronmi", value: -5, intensity: "minimalnie" },
                { type: "decrease", stat: "umiejetnosc w walce bez broni", value: -5, intensity: "minimalnie" }
            ]},
            { name: "celny", cost: 40, description: "podnosi nieznacznie umiejetnosc w walce dwiema bronmi jednoczesnie (10) oraz nieznacznie ilosc obrazen ktore pomijaja zbroje (20)", effects: [
                { type: "increase", stat: "umiejetnosc w walce dwiema bronmi jednoczesnie", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "ilosc obrazen ktore pomijaja zbroje", value: 20, intensity: "nieznacznie" }
            ]},
            { name: "szybki", cost: 40, description: "podnosi minimalnie zrecznosc (10) oraz nieznacznie szybkosc wyprowadzanych atakow (20) natomiast obniza minimalnie sile (-10) oraz nieznacznie umiejetnosc w wyczuwaniu slabosci wroga (-10)", effects: [
                { type: "increase", stat: "zrecznosc", value: 10, intensity: "minimalnie" },
                { type: "increase", stat: "szybkosc wyprowadzanych atakow", value: 20, intensity: "nieznacznie" },
                { type: "decrease", stat: "sile", value: -10, intensity: "minimalnie" },
                { type: "decrease", stat: "umiejetnosc w wyczuwaniu slabosci wroga", value: -10, intensity: "nieznacznie" }
            ]},
            { name: "silacz", cost: 40, description: "podnosi minimalnie umiejetnosc w walce dwiema bronmi jednoczesnie (5) oraz nieznacznie regeneracje zmeczenia (15) ponadto pozwala dobywac dwureczne bronie jedna reka (2)", effects: [
                { type: "increase", stat: "umiejetnosc w walce dwiema bronmi jednoczesnie", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "regeneracje zmeczenia", value: 15, intensity: "nieznacznie" },
                { type: "special", description: "pozwala dobywac dwureczne bronie jedna reka", value: 2 }
            ]},
            { name: "mesmer", cost: 40, description: "podnosi nieznacznie umiejetnosc w koncentrowaniu swoich magicznych zdolnosci (10), minimalnie umiejetnosci ze wszystkich szkol magii (5) oraz nieznacznie maksymalna mane (300)", effects: [
                { type: "increase", stat: "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosci ze wszystkich szkol magii", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "maksymalna mane", value: 300, intensity: "nieznacznie" }
            ]},
            { name: "specjalista", cost: 40, description: "podnosi nieznacznie ilosc wyprowadzanych atakow specjalnych (15)", effects: [
                { type: "increase", stat: "ilosc wyprowadzanych atakow specjalnych", value: 15, intensity: "nieznacznie" }
            ]},
            { name: "kaplan bitewny", cost: 40, description: "podnosi minimalnie umiejetnosc w poslugiwaniu sie magia zycia (5), nieznacznie umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki (10), minimalnie umiejetnosc w unikaniu ciosow przeciwnika (5), minimalnie umiejetnosc w parowaniu ciosow przeciwnika (5) oraz minimalnie umiejetnosc w skutecznym uzywaniu tarczy (5) ponadto pozwala uzywac tarczy, parowac i unikac podczas czarowania (1)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia zycia", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w parowaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 5, intensity: "minimalnie" },
                { type: "special", description: "pozwala uzywac tarczy, parowac i unikac podczas czarowania", value: 1 }
            ]},
            { name: "zdrada", cost: 10, description: "podnosi minimalnie inteligencje (5) ponadto zamienia ze soba umiejetnosci w poslugiwaniu sie magia zycia i w poslugiwaniu sie magia mroku", effects: [
                { type: "increase", stat: "inteligencje", value: 5, intensity: "minimalnie" },
                { type: "special", description: "zamienia ze soba umiejetnosci w poslugiwaniu sie magia zycia i w poslugiwaniu sie magia mroku" }
            ]},
            { name: "podmiana", cost: 10, description: "podnosi minimalnie sile (5) ponadto zamienia ze soba umiejetnosci w skutecznym uzywaniu tarczy i w walce dwiema bronmi jednoczesnie", effects: [
                { type: "increase", stat: "sile", value: 5, intensity: "minimalnie" },
                { type: "special", description: "zamienia ze soba umiejetnosci w skutecznym uzywaniu tarczy i w walce dwiema bronmi jednoczesnie" }
            ]},
            { name: "bestia", cost: 40, description: "podnosi nieznacznie umiejetnosc w walce bez broni (10) oraz nieznacznie umiejetnosc w poslugiwaniu sie magia przemiany (10)", effects: [
                { type: "increase", stat: "umiejetnosc w walce bez broni", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia przemiany", value: 10, intensity: "nieznacznie" }
            ]},
            { name: "wladca bestii", cost: 40, description: "podnosi nieznacznie umiejetnosc w magii tworzenia i przywolywania (10) natomiast obniza troche ilosc many potrzebna do utrzymania przywolancow (-35) ponadto pozwala przywolac jednego dodatkowego, innego niz juz wezwany przywolanca (1)", effects: [
                { type: "increase", stat: "umiejetnosc w magii tworzenia i przywolywania", value: 10, intensity: "nieznacznie" },
                { type: "decrease", stat: "ilosc many potrzebna do utrzymania przywolancow", value: -35, intensity: "troche" },
                { type: "special", description: "pozwala przywolac jednego dodatkowego, innego niz juz wezwany przywolanca", value: 1 }
            ]},
            { name: "kaznodzieja", cost: 40, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia zycia (10), nieznacznie umiejetnosc w mistycyzmie (10), minimalnie madrosc (10), nieznacznie odpornosc na obrazenia magii smierci (10) oraz minimalnie sile czarow leczacych (10)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia zycia", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w mistycyzmie", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "madrosc", value: 10, intensity: "minimalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii smierci", value: 10, intensity: "nieznacznie" },
                { type: "increase", stat: "sile czarow leczacych", value: 10, intensity: "minimalnie" }
            ]},
            { name: "sila smoka", cost: 60, description: "laczy ducha wlasciciela z duchem pradawnego smoka", effects: [
                { type: "special", description: "laczy ducha wlasciciela z duchem pradawnego smoka" }
            ]},
            { name: "ciezkozbrojny", cost: 40, description: "podnosi minimalnie sile (5), minimalnie umiejetnosci walki wszystkimi bronmi (5) oraz minimalnie umiejetnosc w skutecznym uzywaniu tarczy (5) natomiast obniza zauwazalnie wplyw przeciazenia na zmeczenie w walce (-50)", effects: [
                { type: "increase", stat: "sile", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w skutecznym uzywaniu tarczy", value: 5, intensity: "minimalnie" },
                { type: "decrease", stat: "wplyw przeciazenia na zmeczenie w walce", value: -50, intensity: "zauwazalnie" }
            ]},
            { name: "wladca ciemnosci", cost: 40, description: "podnosi nieznacznie umiejetnosc w poslugiwaniu sie magia mroku (10) natomiast obniza troche ilosc many potrzebna do utrzymania przywolancow (-35) ponadto pozwala przywolac jednego dodatkowego, innego niz juz wezwany przywolanca (1)", effects: [
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia mroku", value: 10, intensity: "nieznacznie" },
                { type: "decrease", stat: "ilosc many potrzebna do utrzymania przywolancow", value: -35, intensity: "troche" },
                { type: "special", description: "pozwala przywolac jednego dodatkowego, innego niz juz wezwany przywolanca", value: 1 }
            ]},
            { name: "kamiennoskory", cost: 40, description: "podnosi nieco odpornosc na obrazenia klute (18), nieco odpornosc na obrazenia ciete (18) oraz nieco odpornosc na obrazenia obuchowe (18)", effects: [
                { type: "increase", stat: "odpornosc na obrazenia klute", value: 18, intensity: "nieco" },
                { type: "increase", stat: "odpornosc na obrazenia ciete", value: 18, intensity: "nieco" },
                { type: "increase", stat: "odpornosc na obrazenia obuchowe", value: 18, intensity: "nieco" }
            ]},
            { name: "antymagia", cost: 40, description: "podnosi zauwazalnie odpornosc na obrazenia magii powietrza (40), zauwazalnie odpornosc na obrazenia magii ziemi (40), zauwazalnie odpornosc na obrazenia magii ognia (40), zauwazalnie odpornosc na obrazenia magii wody (40), zauwazalnie odpornosc na obrazenia magii zycia (40) oraz zauwazalnie odpornosc na obrazenia magii smierci (40)", effects: [
                { type: "increase", stat: "odpornosc na obrazenia magii powietrza", value: 40, intensity: "zauwazalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii ziemi", value: 40, intensity: "zauwazalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii ognia", value: 40, intensity: "zauwazalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii wody", value: 40, intensity: "zauwazalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii zycia", value: 40, intensity: "zauwazalnie" },
                { type: "increase", stat: "odpornosc na obrazenia magii smierci", value: 40, intensity: "zauwazalnie" }
            ]},
            { name: "lekkozbrojny", cost: 40, description: "podnosi minimalnie zrecznosc (5), minimalnie umiejetnosci walki wszystkimi bronmi (5), minimalnie umiejetnosc w unikaniu ciosow przeciwnika (5), ogromnie wplyw przeciazenia na zmeczenie w walce (100), bardzo ilosc przeciwnikow z ktorymi mozemy walczyc bez utraty sprawnosci (4) oraz minimalnie ilosc obrazen ktore pomijaja zbroje (10)", effects: [
                { type: "increase", stat: "zrecznosc", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosci walki wszystkimi bronmi", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "umiejetnosc w unikaniu ciosow przeciwnika", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "wplyw przeciazenia na zmeczenie w walce", value: 100, intensity: "ogromnie" },
                { type: "increase", stat: "ilosc przeciwnikow z ktorymi mozemy walczyc bez utraty sprawnosci", value: 4, intensity: "bardzo" },
                { type: "increase", stat: "ilosc obrazen ktore pomijaja zbroje", value: 10, intensity: "minimalnie" }
            ]},
            { name: "mistrz harmonii", cost: 40, description: "podnosi minimalnie sile czarow wzmacniajacych (5) oraz minimalnie sile czarow oslabiajacych (5) natomiast obniza nieco ilosc many potrzebna do utrzymania aur (-30) ponadto pozwala utrzymywac jedna dodatkowa aure (1)", effects: [
                { type: "increase", stat: "sile czarow wzmacniajacych", value: 5, intensity: "minimalnie" },
                { type: "increase", stat: "sile czarow oslabiajacych", value: 5, intensity: "minimalnie" },
                { type: "decrease", stat: "ilosc many potrzebna do utrzymania aur", value: -30, intensity: "nieco" },
                { type: "special", description: "pozwala utrzymywac jedna dodatkowa aure", value: 1 }
            ]},
            { name: "przewrotnosc", cost: 10, description: "podnosi minimalnie zrecznosc (5) ponadto zamienia ze soba umiejetnosci w parowaniu ciosow przeciwnika i w unikaniu ciosow przeciwnika", effects: [
                { type: "increase", stat: "zrecznosc", value: 5, intensity: "minimalnie" },
                { type: "special", description: "zamienia ze soba umiejetnosci w parowaniu ciosow przeciwnika i w unikaniu ciosow przeciwnika" }
            ]},
            { name: "wszechstronny", cost: 40, description: "podnosi zauwazalnie wielkosc listy dozwolonych czarow (5), nieznacznie umiejetnosc w poslugiwaniu sie magia ognia (8), nieznacznie umiejetnosc w poslugiwaniu sie magia wody (8), nieznacznie umiejetnosc w poslugiwaniu sie magia ziemi (8) oraz nieznacznie umiejetnosc w poslugiwaniu sie magia powietrza (8) natomiast obniza troche koszt czarow (-40), nieco szybkosc odnawiania czarow (-100) oraz minimalnie szybkosc czarowania (-10)", effects: [
                { type: "increase", stat: "wielkosc listy dozwolonych czarow", value: 5, intensity: "zauwazalnie" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia ognia", value: 8, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia wody", value: 8, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia ziemi", value: 8, intensity: "nieznacznie" },
                { type: "increase", stat: "umiejetnosc w poslugiwaniu sie magia powietrza", value: 8, intensity: "nieznacznie" },
                { type: "decrease", stat: "koszt czarow", value: -40, intensity: "troche" },
                { type: "decrease", stat: "szybkosc odnawiania czarow", value: -100, intensity: "nieco" },
                { type: "decrease", stat: "szybkosc czarowania", value: -10, intensity: "minimalnie" }
            ]},
            { name: "wampir", cost: 40, description: "podnosi troche ilosc zycia wykradanego przy atakach (40) ponadto sprawia ze nie mozesz byc magicznie uleczony (1)", effects: [
                { type: "increase", stat: "ilosc zycia wykradanego przy atakach", value: 40, intensity: "troche" },
                { type: "special", description: "sprawia ze nie mozesz byc magicznie uleczony", value: 1 }
            ]},
            { name: "sama magia", cost: 40, description: "podnosi minimalnie szybkosc odnawiania czarow (20) oraz minimalnie szybkosc czarowania (20) natomiast obniza nieznacznie koszt czarow (-15), ogromnie szybkosc wyprowadzanych atakow (-1000) oraz ogromnie ilosc wyprowadzanych atakow specjalnych (-1000)", effects: [
                { type: "increase", stat: "szybkosc odnawiania czarow", value: 20, intensity: "minimalnie" },
                { type: "increase", stat: "szybkosc czarowania", value: 20, intensity: "minimalnie" },
                { type: "decrease", stat: "koszt czarow", value: -15, intensity: "nieznacznie" },
                { type: "decrease", stat: "szybkosc wyprowadzanych atakow", value: -1000, intensity: "ogromnie" },
                { type: "decrease", stat: "ilosc wyprowadzanych atakow specjalnych", value: -1000, intensity: "ogromnie" }
            ]},
            { name: "cien", cost: 40, description: "podnosi nieznacznie ilosc obrazen ktore pomijaja odpornosci (20), nieco ilosc obrazen ktore pomijaja zbroje (30), ogromnie wplyw wagi zbroi na szybkosc walki (100) oraz ogromnie wplyw wagi zbroi na czarowanie (500) natomiast obniza nieco odpornosc na obrazenia klute (-25), nieco odpornosc na obrazenia ciete (-25), nieco odpornosc na obrazenia obuchowe (-25), nieco odpornosc na obrazenia magii powietrza (-25), nieco odpornosc na obrazenia magii ziemi (-25), nieco odpornosc na obrazenia magii ognia (-25), nieco odpornosc na obrazenia magii wody (-25), nieco odpornosc na obrazenia magii zycia (-25) oraz nieco odpornosc na obrazenia magii smierci (-25)", effects: [
                { type: "increase", stat: "ilosc obrazen ktore pomijaja odpornosci", value: 20, intensity: "nieznacznie" },
                { type: "increase", stat: "ilosc obrazen ktore pomijaja zbroje", value: 30, intensity: "nieco" },
                { type: "increase", stat: "wplyw wagi zbroi na szybkosc walki", value: 100, intensity: "ogromnie" },
                { type: "increase", stat: "wplyw wagi zbroi na czarowanie", value: 500, intensity: "ogromnie" },
                { type: "decrease", stat: "odpornosc na obrazenia klute", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia ciete", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia obuchowe", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii powietrza", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii ziemi", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii ognia", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii wody", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii zycia", value: -25, intensity: "nieco" },
                { type: "decrease", stat: "odpornosc na obrazenia magii smierci", value: -25, intensity: "nieco" }
            ]},
            // Dodaj więcej słów według potrzeb
			
        ];
        
        // Skill mapping for display
        const skillDisplayMapping = {
            "miecze": "Miecze",
            "sztylety": "Sztylety",
            "walke dwiema bronmi": "Walka dwiema brońmi",
            "parowanie": "Parowanie",
            "uniki": "Uniki",
            "ocene przeciwnika": "Ocena przeciwnika",
            "ocene obiektu": "Ocena obiektu",
            "opieke nad zwierzetami": "Opieka nad zwierzętami",
            "spostrzegawczosc": "Spostrzegawczość",
            "jezdziectwo": "Jeździectwo",
            "znajomosc jezykow": "Znajomość języków",
            "fechtunek": "Fechtunek",
            "maczugi": "Maczugi",
            "koncentracje": "Koncentracja",
            "koncentracje w walce": "Koncentracja w walce",
            "rozpraszanie": "Rozpraszanie",
            "mloty": "Młoty",
            "bronie drzewcowe": "Bronie drzewcowe",
            "wyczucie kierunku": "Wyczucie kierunku",
            "magie mroku": "Magia mroku",
            "iluzje": "Iluzje",
            "tarczownictwo": "Tarczownictwo",
            "manewry bojowe": "Manewry bojowe",
            "szable": "Szable",
            "tropienie": "Tropienie",
            "skradanie sie": "Skradanie się",
            "ukrywanie sie": "Ukrywanie się",
            "wyczucie slabosci": "Wyczucie słabości",
            "rzut piaskiem": "Rzut piaskiem",
            "ciecie": "Cięcie",
            "topory": "Topory",
            "szacowanie": "Szacowanie",
            "regeneracje": "Regeneracja",
            "odpornosc": "Odporność",
            "chlasniecie": "Chlaśnięcie",
            "wlocznie": "Włócznie",
            "taniec broni": "Taniec broni",
            "walke w ciemnosci": "Walka w ciemności",
            "walke w szyku": "Walka w szyku",
            "plywanie": "Pływanie",
            "wspinaczke": "Wspinaczka",
            "riposte": "Riposta",
            "bronie lancuchowe": "Bronie łańcuchowe",
            "uderzenie tarcza": "Uderzenie tarczą",
            "gwardyjski cios": "Gwardyjski cios",
            "walke bez broni": "Walka bez broni",
            "zwinny cios": "Zwinny cios",
            "przemiane": "Przemiana",
            "przywolywanie": "Przywoływanie",
            "magie ognia": "Magia ognia",
            "magie powietrza": "Magia powietrza",
            "magie ziemi": "Magia ziemi",
            "magie wody": "Magia wody",
            "magie runiczna": "Magia runiczna",
            "czarodziejstwo": "Czarodziejstwo",
            "zaklinanie": "Zaklinanie",
            "niematerialne ciecie": "Niematerialne cięcie"
        };

        // Main App Logic
        document.addEventListener('DOMContentLoaded', function() {
            populateGuildSelect();
            populateWordsList();
            setupEventListeners();
            setupDarkMode();
        });

        function populateGuildSelect() {
            const guildSelect = document.getElementById('guildSelect');
            
            // Add guilds to select
            guildsData.forEach(guild => {
                const option = document.createElement('option');
                option.value = guild.code;
                option.textContent = guild.name;
                guildSelect.appendChild(option);
            });
        }

        function populatePathSelect(guild) {
            const pathSelect = document.getElementById('pathSelect');
            pathSelect.innerHTML = '';
            
            if (!guild) {
                const option = document.createElement('option');
                option.value = '';
                option.textContent = 'Najpierw wybierz gildię...';
                pathSelect.appendChild(option);
                return;
            }
            
            guild.paths.forEach(path => {
                const option = document.createElement('option');
                option.value = path.name;
                option.textContent = path.name;
                pathSelect.appendChild(option);
            });
            
            // Trigger change to update skills
            pathSelect.dispatchEvent(new Event('change'));
        }

        function populateWordsList() {
            const wordsList = document.getElementById('wordsList');
            
            slowaData.forEach(word => {
                const div = document.createElement('div');
                div.className = 'tooltip-trigger';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'custom-checkbox';
                checkbox.id = `word_${word.name}`;
                checkbox.value = word.name;
                checkbox.dataset.cost = word.cost;
                
                const label = document.createElement('label');
                label.htmlFor = `word_${word.name}`;
                label.className = 'block p-2 border rounded mb-1 hover:bg-gray-200 dark:hover:bg-gray-700 cursor-pointer transition-colors';
                label.innerHTML = `${word.name} <span class="text-sm text-gray-500 dark:text-gray-400">(${word.cost})</span>`;
                
                const tooltip = document.createElement('div');
                tooltip.className = 'tooltip p-2 rounded bg-gray-800 text-white text-xs shadow-lg';
                tooltip.innerHTML = `<p>${word.description}</p>`;
                
                div.appendChild(checkbox);
                div.appendChild(label);
                div.appendChild(tooltip);
                wordsList.appendChild(div);
                
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        label.classList.add('selected-item');
                    } else {
                        label.classList.remove('selected-item');
                    }
                    updateSelectedWordCount();
                    updateSkillsSummary();
                    updateEffectsSummary();
                });
            });
        }

        function setupEventListeners() {
            // Guild Selection
            document.getElementById('guildSelect').addEventListener('change', function() {
                const selectedGuild = guildsData.find(g => g.code === this.value);
                updateRacesAllowed(selectedGuild);
                populatePathSelect(selectedGuild);
            });
            
            // Path Selection
            document.getElementById('pathSelect').addEventListener('change', function() {
                updateSkillsSummary();
                updateActivePlayers();
            });
            
            // Search Words
            document.getElementById('searchWords').addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const words = document.querySelectorAll('#wordsList .tooltip-trigger');
                
                words.forEach(wordDiv => {
                    const wordName = wordDiv.querySelector('label').textContent.toLowerCase();
                    if (wordName.includes(searchTerm)) {
                        wordDiv.style.display = '';
                    } else {
                        wordDiv.style.display = 'none';
                    }
                });
            });
            
            // Clear Selections
            document.getElementById('clearSelections').addEventListener('click', function() {
                const checkboxes = document.querySelectorAll('#wordsList input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                    checkbox.nextElementSibling.classList.remove('selected-item');
                });
                updateSelectedWordCount();
                updateSkillsSummary();
                updateEffectsSummary();
            });
            
            // Export Button
            document.getElementById('exportButton').addEventListener('click', exportToMarkdown);
        }

        function setupDarkMode() {
            const themeToggle = document.getElementById('themeToggle');
            
            // Check if user preference is stored
            if (localStorage.getItem('darkMode') === 'true') {
                document.documentElement.classList.add('dark');
                themeToggle.checked = true;
            }
            
            themeToggle.addEventListener('change', function() {
                if (this.checked) {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('darkMode', 'true');
                } else {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('darkMode', 'false');
                }
            });
        }

        function updateRacesAllowed(guild) {
            const racesAllowedDiv = document.getElementById('racesAllowed');
            
            if (!guild) {
                racesAllowedDiv.innerHTML = '<h3 class="font-medium mb-1">Dozwolone rasy:</h3><p class="text-sm">Wybierz gildię, aby zobaczyć dozwolone rasy.</p>';
                return;
            }
            
            let html = '<h3 class="font-medium mb-1">Dozwolone rasy:</h3>';
            if (guild.races.length > 0) {
                html += `<p class="text-sm">${formatRacesList(guild.races)}</p>`;
            } else {
                html += '<p class="text-sm">Brak informacji o dozwolonych rasach.</p>';
            }
            
            racesAllowedDiv.innerHTML = html;
        }

        function formatRacesList(races) {
            return races.map(race => race.charAt(0).toUpperCase() + race.slice(1)).join(', ');
        }

        function updateActivePlayers() {
            const guildSelect = document.getElementById('guildSelect');
            const pathSelect = document.getElementById('pathSelect');
            const activePlayersDiv = document.getElementById('activePlayers');
            
            if (!guildSelect.value || !pathSelect.value) {
                activePlayersDiv.innerHTML = '<p>Aktywnych graczy: -</p>';
                return;
            }
            
            const selectedGuild = guildsData.find(g => g.code === guildSelect.value);
            const selectedPath = selectedGuild.paths.find(p => p.name === pathSelect.value);
            
            activePlayersDiv.innerHTML = `<p>Aktywnych graczy: ${selectedPath.activePlayers}</p>`;
            
            // Show specs if available
            if (selectedPath.specs && selectedPath.specs.length > 0) {
                activePlayersDiv.innerHTML += `<p class="mt-2">Specjalne umiejętności: ${selectedPath.specs.join(', ')}</p>`;
            }
        }

        function updateSelectedWordCount() {
            const selectedWords = document.querySelectorAll('#wordsList input[type="checkbox"]:checked');
            document.getElementById('selectedWordCount').textContent = selectedWords.length;
        }

        function updateSkillsSummary() {
            const guildSelect = document.getElementById('guildSelect');
            const pathSelect = document.getElementById('pathSelect');
            const skillsSummaryDiv = document.getElementById('skillsSummary');
            
            if (!guildSelect.value || !pathSelect.value) {
                skillsSummaryDiv.innerHTML = '<p class="text-center col-span-1 md:col-span-2">Wybierz gildię i ścieżkę, aby zobaczyć umiejętności.</p>';
                return;
            }
            
            const selectedGuild = guildsData.find(g => g.code === guildSelect.value);
            const selectedPath = selectedGuild.paths.find(p => p.name === pathSelect.value);
            const skills = selectedPath.skills;
            
            // Calculate modified skills based on selected words
            const modifiedSkills = calculateModifiedSkills(skills);
            
            skillsSummaryDiv.innerHTML = '';
            
            Object.entries(modifiedSkills).forEach(([skillName, value]) => {
                const displayName = skillDisplayMapping[skillName] || skillName;
                const originalValue = skills[skillName] || 0;
                
                const skillDiv = document.createElement('div');
                skillDiv.className = 'mb-3';
                
                const nameElement = document.createElement('div');
                nameElement.className = 'flex justify-between mb-1';
                nameElement.innerHTML = `
                    <span>${displayName}</span>
                    <span>${value}</span>
                `;
                
                const barContainer = document.createElement('div');
                barContainer.className = 'skill-bar w-full h-2 rounded-full';
                
                const barFill = document.createElement('div');
                barFill.className = 'skill-bar-fill h-full rounded-full';
                barFill.style.width = `${Math.min(value, 100)}%`;
                
                barContainer.appendChild(barFill);
                skillDiv.appendChild(nameElement);
                skillDiv.appendChild(barContainer);
                
                // If modified, show difference
                if (value !== originalValue) {
                    const diffElement = document.createElement('div');
                    const diff = value - originalValue;
                    const sign = diff > 0 ? '+' : '';
                    diffElement.className = diff > 0 ? 'text-green-500 text-xs text-right' : 'text-red-500 text-xs text-right';
                    diffElement.textContent = `${sign}${diff}`;
                    skillDiv.appendChild(diffElement);
                }
                
                skillsSummaryDiv.appendChild(skillDiv);
            });
        }

        function calculateModifiedSkills(baseSkills) {
            const modifiedSkills = {...baseSkills};
            const selectedWords = document.querySelectorAll('#wordsList input[type="checkbox"]:checked');
            
            selectedWords.forEach(checkbox => {
                const wordName = checkbox.value;
                const word = slowaData.find(w => w.name === wordName);
                
                if (word && word.effects) {
                    word.effects.forEach(effect => {
                        if (effect.type === "increase") {
                            // Direct skill match
                            if (modifiedSkills.hasOwnProperty(effect.stat)) {
                                modifiedSkills[effect.stat] += parseInt(effect.value);
                            } 
                            // Generic skill match (e.g., "umiejetnosci walki wszystkimi bronmi")
                            else if (effect.stat === "umiejetnosci walki wszystkimi bronmi") {
                                const combatSkills = ["miecze", "sztylety", "topory", "mloty", "wlocznie", "szable", "bronie drzewcowe", "bronie lancuchowe", "maczugi"];
                                combatSkills.forEach(skill => {
                                    if (modifiedSkills.hasOwnProperty(skill)) {
                                        modifiedSkills[skill] += parseInt(effect.value);
                                    }
                                });
                            }
                            // Magic skills match
                            else if (effect.stat === "umiejetnosci ze wszystkich szkol magii") {
                                const magicSkills = ["magie ognia", "magie wody", "magie ziemi", "magie powietrza", "magie mroku", "iluzje", "przemiane", "przywolywanie", "magie runiczna", "czarodziejstwo"];
                                magicSkills.forEach(skill => {
                                    if (modifiedSkills.hasOwnProperty(skill)) {
                                        modifiedSkills[skill] += parseInt(effect.value);
                                    }
                                });
                            }
                            // Specific skill mappings
                            else if (effect.stat === "umiejetnosc w unikaniu ciosow przeciwnika" && modifiedSkills.hasOwnProperty("uniki")) {
                                modifiedSkills["uniki"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w parowaniu ciosow przeciwnika" && modifiedSkills.hasOwnProperty("parowanie")) {
                                modifiedSkills["parowanie"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w walce dwiema bronmi jednoczesnie" && modifiedSkills.hasOwnProperty("walke dwiema bronmi")) {
                                modifiedSkills["walke dwiema bronmi"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w skutecznym uzywaniu tarczy" && modifiedSkills.hasOwnProperty("tarczownictwo")) {
                                modifiedSkills["tarczownictwo"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia ognia" && modifiedSkills.hasOwnProperty("magie ognia")) {
                                modifiedSkills["magie ognia"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia wody" && modifiedSkills.hasOwnProperty("magie wody")) {
                                modifiedSkills["magie wody"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia ziemi" && modifiedSkills.hasOwnProperty("magie ziemi")) {
                                modifiedSkills["magie ziemi"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia powietrza" && modifiedSkills.hasOwnProperty("magie powietrza")) {
                                modifiedSkills["magie powietrza"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia mroku" && modifiedSkills.hasOwnProperty("magie mroku")) {
                                modifiedSkills["magie mroku"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci" && modifiedSkills.hasOwnProperty("koncentracje")) {
                                modifiedSkills["koncentracje"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w koncentrowaniu swoich magicznych zdolnosci podczas walki" && modifiedSkills.hasOwnProperty("koncentracje w walce")) {
                                modifiedSkills["koncentracje w walce"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w rozpraszaniu zaklec" && modifiedSkills.hasOwnProperty("rozpraszanie")) {
                                modifiedSkills["rozpraszanie"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia przemiany" && modifiedSkills.hasOwnProperty("przemiane")) {
                                modifiedSkills["przemiane"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w magii tworzenia i przywolywania" && modifiedSkills.hasOwnProperty("przywolywanie")) {
                                modifiedSkills["przywolywanie"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w poslugiwaniu sie magia iluzji" && modifiedSkills.hasOwnProperty("iluzje")) {
                                modifiedSkills["iluzje"] += parseInt(effect.value);
                            }
                            else if (effect.stat === "umiejetnosc w walce bez broni" && modifiedSkills.hasOwnProperty("walke bez broni")) {
                                modifiedSkills["walke bez broni"] += parseInt(effect.value);
                            }
                        }
                    });
                }
            });
            
            return modifiedSkills;
        }

        function updateEffectsSummary() {
            const effectsSummaryDiv = document.getElementById('effectsSummary');
            const selectedWords = document.querySelectorAll('#wordsList input[type="checkbox"]:checked');
            
            if (selectedWords.length === 0) {
                effectsSummaryDiv.innerHTML = '<p>Wybierz słowa, aby zobaczyć ich efekty.</p>';
                return;
            }
            
            let html = '<ul class="list-disc pl-5">';
            let totalCost = 0;
            
            selectedWords.forEach(checkbox => {
                const wordName = checkbox.value;
                const word = slowaData.find(w => w.name === wordName);
                totalCost += parseInt(word.cost);
                
                html += `<li class="mb-2"><span class="font-medium">${wordName}</span> (${word.cost}) - ${word.description}</li>`;
            });
            
            html += '</ul>';
            html = `<p class="mb-2 font-bold">Łączny koszt: ${totalCost}</p>` + html;
            
            effectsSummaryDiv.innerHTML = html;
        }

        function exportToMarkdown() {
            const guildSelect = document.getElementById('guildSelect');
            const pathSelect = document.getElementById('pathSelect');
            
            if (!guildSelect.value || !pathSelect.value) {
                alert('Wybierz najpierw gildię i ścieżkę!');
                return;
            }
            
            const selectedGuild = guildsData.find(g => g.code === guildSelect.value);
            const selectedPath = selectedGuild.paths.find(p => p.name === pathSelect.value);
            const selectedWords = document.querySelectorAll('#wordsList input[type="checkbox"]:checked');
            const modifiedSkills = calculateModifiedSkills(selectedPath.skills);
            
            // Build markdown content
            let markdown = `# Warlock MUD Kalkulator Postaci\n\n`;
            
            // Guild & Path
            markdown += `## Gildia: ${selectedGuild.name}\n`;
            markdown += `### Ścieżka: ${selectedPath.name}\n\n`;
            
            // Races
            markdown += `### Dozwolone rasy\n`;
            markdown += `${formatRacesList(selectedGuild.races)}\n\n`;
            
            // Special abilities
            if (selectedPath.specs && selectedPath.specs.length > 0) {
                markdown += `### Specjalne umiejętności\n`;
                selectedPath.specs.forEach(spec => {
                    markdown += `- ${spec}\n`;
                });
                markdown += `\n`;
            }
            
            // Selected words
            markdown += `## Wybrane słowa\n`;
            let totalCost = 0;
            
            if (selectedWords.length > 0) {
                Array.from(selectedWords).forEach(checkbox => {
                    const wordName = checkbox.value;
                    const word = slowaData.find(w => w.name === wordName);
                    totalCost += parseInt(word.cost);
                    
                    markdown += `- **${wordName}** (${word.cost}): ${word.description}\n`;
                });
                markdown += `\n**Łączny koszt:** ${totalCost}\n\n`;
            } else {
                markdown += `Nie wybrano żadnych słów.\n\n`;
            }
            
            // Skills
            markdown += `## Umiejętności\n\n`;
            
            Object.entries(modifiedSkills).forEach(([skillName, value]) => {
                const displayName = skillDisplayMapping[skillName] || skillName;
                const originalValue = selectedPath.skills[skillName] || 0;
                
                if (value !== originalValue) {
                    const diff = value - originalValue;
                    const sign = diff > 0 ? '+' : '';
                    markdown += `- ${displayName}: ${value} (${sign}${diff})\n`;
                } else {
                    markdown += `- ${displayName}: ${value}\n`;
                }
            });
            
            // Create download link
            const blob = new Blob([markdown], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `postac_${selectedGuild.code}_${selectedPath.name.replace(/\s+/g, '_')}.md`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
